<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Gestion Utilisateurs - Transformer Amadou Diallo en Admin</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #ff6b6b, #ffa500);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .content {
            padding: 30px;
        }
        .test-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #ff6b6b;
        }
        .test-section h2 {
            color: #ff6b6b;
            margin-top: 0;
            display: flex;
            align-items: center;
        }
        .test-section h2::before {
            content: "üë§";
            margin-right: 10px;
            font-size: 1.2em;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        .success::before {
            content: "‚úÖ ";
            font-weight: bold;
        }
        .error {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        .error::before {
            content: "‚ùå ";
            font-weight: bold;
        }
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        .info::before {
            content: "‚ÑπÔ∏è ";
            font-weight: bold;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        .warning::before {
            content: "‚ö†Ô∏è ";
            font-weight: bold;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        .btn {
            background: linear-gradient(135deg, #ff6b6b, #ffa500);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            text-decoration: none;
            display: inline-block;
            transition: transform 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .btn-success {
            background: linear-gradient(135deg, #28a745, #20c997);
        }
        .btn-danger {
            background: linear-gradient(135deg, #dc3545, #e74c3c);
        }
        .checklist {
            list-style: none;
            padding: 0;
        }
        .checklist li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
        }
        .checklist li::before {
            content: "‚òê";
            margin-right: 10px;
            font-size: 1.2em;
        }
        .checklist li.checked::before {
            content: "‚òëÔ∏è";
        }
        .footer {
            background: #343a40;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .step {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            border: 1px solid #e9ecef;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .step h3 {
            color: #495057;
            margin-top: 0;
            display: flex;
            align-items: center;
        }
        .step h3::before {
            content: "üìã";
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üë§ Test Gestion Utilisateurs</h1>
            <p>Transformer Amadou Diallo en utilisateur admin</p>
        </div>

        <div class="content">
            <!-- Probl√®me identifi√© -->
            <div class="test-section">
                <h2>Probl√®me Identifi√©</h2>
                
                <div class="warning">
                    ‚ö†Ô∏è <strong>Probl√®me :</strong> Impossible de modifier l'utilisateur Amadou Diallo pour le transformer en admin.
                </div>

                <div class="info">
                    ‚ÑπÔ∏è <strong>Objectif :</strong> Donner les droits d'administrateur √† l'utilisateur Amadou Diallo.
                </div>
            </div>

            <!-- Solutions -->
            <div class="test-section">
                <h2>Solutions Propos√©es</h2>
                
                <div class="step">
                    <h3>Solution 1 : Rechercher l'utilisateur existant</h3>
                    <div class="code-block">
                        # Naviguer vers le dossier server
                        cd server

                        # Chercher Amadou Diallo dans la base de donn√©es
                        node manage-users.js find Amadou Diallo
                    </div>
                    <div class="info">
                        ‚ÑπÔ∏è Cette commande va chercher l'utilisateur Amadou Diallo dans la base de donn√©es MongoDB.
                    </div>
                </div>

                <div class="step">
                    <h3>Solution 2 : Lister tous les utilisateurs</h3>
                    <div class="code-block">
                        # Voir tous les utilisateurs de la base
                        node manage-users.js list
                    </div>
                    <div class="info">
                        ‚ÑπÔ∏è Cette commande va afficher tous les utilisateurs avec leurs IDs et r√¥les.
                    </div>
                </div>

                <div class="step">
                    <h3>Solution 3 : Transformer en admin (si trouv√©)</h3>
                    <div class="code-block">
                        # Transformer l'utilisateur en admin (remplacer USER_ID par l'ID trouv√©)
                        node manage-users.js make-admin USER_ID
                    </div>
                    <div class="info">
                        ‚ÑπÔ∏è Cette commande va changer le r√¥le de l'utilisateur vers "admin".
                    </div>
                </div>

                <div class="step">
                    <h3>Solution 4 : Cr√©er un nouvel admin</h3>
                    <div class="code-block">
                        # Cr√©er un nouvel utilisateur admin
                        node manage-users.js create-admin Amadou Diallo amadou@bowoye.gn password123
                    </div>
                    <div class="info">
                        ‚ÑπÔ∏è Cette commande va cr√©er un nouvel utilisateur admin avec les informations fournies.
                    </div>
                </div>
            </div>

            <!-- Instructions d√©taill√©es -->
            <div class="test-section">
                <h2>Instructions D√©taill√©es</h2>
                
                <div class="step">
                    <h3>√âtape 1 : V√©rifier MongoDB</h3>
                    <ul class="checklist">
                        <li>‚òê V√©rifier que MongoDB est d√©marr√©</li>
                        <li>‚òê V√©rifier la connexion √† la base de donn√©es</li>
                        <li>‚òê V√©rifier que le serveur backend peut se connecter</li>
                    </ul>
                </div>

                <div class="step">
                    <h3>√âtape 2 : Rechercher l'utilisateur</h3>
                    <ul class="checklist">
                        <li>‚òê Ex√©cuter la commande de recherche</li>
                        <li>‚òê V√©rifier si Amadou Diallo existe</li>
                        <li>‚òê Noter l'ID de l'utilisateur s'il est trouv√©</li>
                    </ul>
                </div>

                <div class="step">
                    <h3>√âtape 3 : Modifier le r√¥le</h3>
                    <ul class="checklist">
                        <li>‚òê Utiliser l'ID trouv√© pour modifier le r√¥le</li>
                        <li>‚òê V√©rifier que la modification a r√©ussi</li>
                        <li>‚òê Tester la connexion avec les nouveaux droits</li>
                    </ul>
                </div>

                <div class="step">
                    <h3>√âtape 4 : Tester l'acc√®s admin</h3>
                    <ul class="checklist">
                        <li>‚òê Se connecter avec les identifiants d'Amadou Diallo</li>
                        <li>‚òê V√©rifier l'acc√®s √† l'interface admin</li>
                        <li>‚òê Tester les fonctionnalit√©s d'administration</li>
                    </ul>
                </div>
            </div>

            <!-- Commandes pr√™tes √† ex√©cuter -->
            <div class="test-section">
                <h2>Commandes Pr√™tes √† Ex√©cuter</h2>
                
                <div class="success">
                    ‚úÖ <strong>Copiez et ex√©cutez ces commandes dans le terminal :</strong>
                </div>

                <div class="code-block">
# 1. Aller dans le dossier server
cd server

# 2. Chercher Amadou Diallo
node manage-users.js find Amadou Diallo

# 3. Si trouv√©, transformer en admin (remplacer USER_ID)
node manage-users.js make-admin USER_ID

# 4. Alternative : Cr√©er un nouvel admin
node manage-users.js create-admin Amadou Diallo amadou@bowoye.gn password123
                </div>
            </div>

            <!-- R√©solution de probl√®mes -->
            <div class="test-section">
                <h2>R√©solution de Probl√®mes</h2>
                
                <div class="error">
                    ‚ùå <strong>Si l'utilisateur n'est pas trouv√© :</strong>
                </div>
                <ul>
                    <li>V√©rifiez l'orthographe du nom</li>
                    <li>Essayez avec des variations (Diallo, Dialo, etc.)</li>
                    <li>Cr√©ez un nouvel utilisateur admin</li>
                </ul>

                <div class="error">
                    ‚ùå <strong>Si MongoDB n'est pas accessible :</strong>
                </div>
                <ul>
                    <li>V√©rifiez que MongoDB est d√©marr√©</li>
                    <li>V√©rifiez la connexion dans server/index.js</li>
                    <li>Red√©marrez le serveur backend</li>
                </ul>

                <div class="error">
                    ‚ùå <strong>Si la modification √©choue :</strong>
                </div>
                <ul>
                    <li>V√©rifiez que l'ID utilisateur est correct</li>
                    <li>V√©rifiez les permissions de la base de donn√©es</li>
                    <li>Essayez de cr√©er un nouvel utilisateur admin</li>
                </ul>
            </div>

            <!-- Actions rapides -->
            <div class="test-section">
                <h2>Actions Rapides</h2>
                <a href="http://localhost:3000/login" class="btn" target="_blank">
                    üîë Page de connexion
                </a>
                <a href="http://localhost:3000/admin" class="btn" target="_blank">
                    üîß Interface admin
                </a>
                <button onclick="copyCommands()" class="btn btn-success">
                    üìã Copier les commandes
                </button>
            </div>
        </div>

        <div class="footer">
            <p><strong>Test Gestion Utilisateurs</strong> - Bowoye Multi Services</p>
            <p>Transformer Amadou Diallo en utilisateur admin</p>
        </div>
    </div>

    <script>
        function copyCommands() {
            const commands = `cd server
node manage-users.js find Amadou Diallo
node manage-users.js make-admin USER_ID
node manage-users.js create-admin Amadou Diallo amadou@bowoye.gn password123`;
            
            navigator.clipboard.writeText(commands).then(() => {
                alert('Commandes copi√©es dans le presse-papiers !');
            }).catch(err => {
                console.error('Erreur lors de la copie:', err);
            });
        }

        // Animation des cartes
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.step, .test-section');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html>
