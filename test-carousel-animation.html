<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ Test du Carrousel d'Animation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }
        .header {
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        .test-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #007bff;
        }
        .test-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border: 1px solid #e9ecef;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .test-item.passed {
            border-left: 4px solid #28a745;
            background: #d4edda;
        }
        .test-item.failed {
            border-left: 4px solid #dc3545;
            background: #f8d7da;
        }
        .test-item.running {
            border-left: 4px solid #ffc107;
            background: #fff3cd;
        }
        .test-item.pending {
            border-left: 4px solid #6c757d;
            background: #f8f9fa;
        }
        .status {
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 12px;
        }
        .status.passed { background: #28a745; color: white; }
        .status.failed { background: #dc3545; color: white; }
        .status.running { background: #ffc107; color: black; }
        .status.pending { background: #6c757d; color: white; }
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            width: 0%;
            transition: width 0.5s ease;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .stat-value {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .stat-label {
            font-size: 14px;
            opacity: 0.9;
        }
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        button.danger {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }
        button.success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }
        .carousel-preview {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }
        .carousel-image {
            width: 100%;
            max-width: 600px;
            height: 300px;
            object-fit: cover;
            border-radius: 10px;
            margin: 10px 0;
        }
        .carousel-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        .carousel-controls button {
            padding: 10px 20px;
            border-radius: 50%;
            width: 50px;
            height: 50px;
        }
        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        .carousel-dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: #ccc;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .carousel-dot.active {
            background: #007bff;
            transform: scale(1.2);
        }
        .log {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            margin: 20px 0;
        }
        .log-entry {
            margin: 5px 0;
            padding: 5px;
            border-radius: 3px;
        }
        .log-entry.info { background: rgba(59, 130, 246, 0.1); }
        .log-entry.success { background: rgba(34, 197, 94, 0.1); }
        .log-entry.warning { background: rgba(245, 158, 11, 0.1); }
        .log-entry.error { background: rgba(239, 68, 68, 0.1); }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé† Test du Carrousel d'Animation</h1>
            <p>Bowoye Multi Services - Page d'Accueil</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="stats">
            <div class="stat-card">
                <div class="stat-value" id="totalTests">0</div>
                <div class="stat-label">Tests Total</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="passedTests">0</div>
                <div class="stat-label">R√©ussis</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="failedTests">0</div>
                <div class="stat-label">√âchou√©s</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="progressPercent">0%</div>
                <div class="stat-label">Progression</div>
            </div>
        </div>

        <div class="button-group">
            <button onclick="startCarouselTests()">üé† Tester le Carrousel</button>
            <button onclick="testAnimation()" class="success">‚è±Ô∏è Test Animation</button>
            <button onclick="testControls()" class="success">üéÆ Test Contr√¥les</button>
            <button onclick="testImages()" class="success">üñºÔ∏è Test Images</button>
            <button onclick="openMainApp()" class="success">üåê Ouvrir App</button>
            <button onclick="clearResults()" class="danger">üóëÔ∏è Effacer</button>
        </div>

        <!-- Pr√©visualisation du Carrousel -->
        <div class="test-section">
            <h2>üé† Pr√©visualisation du Carrousel</h2>
            <div class="carousel-preview">
                <h3>Carrousel d'Images - Construction</h3>
                <img id="carouselImage" class="carousel-image" src="/images/products/construction/A3.jpeg" alt="Image du carrousel">
                <div class="carousel-controls">
                    <button onclick="previousImage()">‚Äπ</button>
                    <button onclick="toggleAutoPlay()" id="playPauseBtn">‚è∏Ô∏è Pause</button>
                    <button onclick="nextImage()">‚Ä∫</button>
                </div>
                <div class="carousel-dots" id="carouselDots"></div>
                <div id="imageInfo">
                    <h4>Mat√©riaux de Construction</h4>
                    <p>Ciment, briques et tous les mat√©riaux pour vos projets</p>
                </div>
            </div>
        </div>

        <!-- Tests d'Animation -->
        <div class="test-section">
            <h2>‚è±Ô∏è Tests d'Animation</h2>
            <div id="animationTests"></div>
        </div>

        <!-- Tests des Contr√¥les -->
        <div class="test-section">
            <h2>üéÆ Tests des Contr√¥les</h2>
            <div id="controlTests"></div>
        </div>

        <!-- Tests des Images -->
        <div class="test-section">
            <h2>üñºÔ∏è Tests des Images</h2>
            <div id="imageTests"></div>
        </div>

        <!-- Log des Tests -->
        <div class="test-section">
            <h2>üìã Log des Tests</h2>
            <div class="log" id="testLog"></div>
        </div>
    </div>

    <script>
        // Configuration du carrousel de test
        const carouselImages = [
            {
                src: '/images/products/construction/A3.jpeg',
                title: 'Mat√©riaux de Construction',
                description: 'Ciment, briques et tous les mat√©riaux pour vos projets'
            },
            {
                src: '/images/products/construction/A4.jpeg',
                title: 'Fer √† B√©ton',
                description: 'Armatures et structures m√©talliques de qualit√©'
            },
            {
                src: '/images/products/construction/A5.jpeg',
                title: 'Outils de Construction',
                description: 'Tous les outils n√©cessaires pour vos chantiers'
            },
            {
                src: '/images/products/construction/A6.jpeg',
                title: 'Peintures et Finitions',
                description: 'Peintures int√©rieures et ext√©rieures de qualit√©'
            }
        ];

        let currentImageIndex = 0;
        let isAutoPlaying = true;
        let autoPlayInterval;
        let testResults = { total: 0, passed: 0, failed: 0 };
        let testLogs = [];

        // Fonction de log
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = { timestamp, message, type };
            testLogs.push(logEntry);
            updateLogDisplay();
            console.log(`[${timestamp}] ${message}`);
        }

        function updateLogDisplay() {
            const logDiv = document.getElementById('testLog');
            logDiv.innerHTML = testLogs.map(log => 
                `<div class="log-entry ${log.type}">[${timestamp}] ${log.message}</div>`
            ).join('');
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        // Fonction pour mettre √† jour les statistiques
        function updateStats() {
            document.getElementById('totalTests').textContent = testResults.total;
            document.getElementById('passedTests').textContent = testResults.passed;
            document.getElementById('failedTests').textContent = testResults.failed;
            
            const progress = testResults.total > 0 ? 
                Math.round(((testResults.passed + testResults.failed) / testResults.total) * 100) : 0;
            
            document.getElementById('progressPercent').textContent = progress + '%';
            document.getElementById('progressFill').style.width = progress + '%';
        }

        // Fonction pour cr√©er un √©l√©ment de test
        function createTestElement(testName, status = 'pending') {
            const testDiv = document.createElement('div');
            testDiv.className = `test-item ${status}`;
            testDiv.innerHTML = `
                <span>${testName}</span>
                <span class="status ${status}">${status.toUpperCase()}</span>
            `;
            return testDiv;
        }

        // Fonction pour mettre √† jour le statut d'un test
        function updateTestStatus(containerId, testName, status, message = '') {
            const container = document.getElementById(containerId);
            let testElement = container.querySelector(`[data-test="${testName}"]`);
            
            if (!testElement) {
                testElement = createTestElement(testName, status);
                testElement.setAttribute('data-test', testName);
                container.appendChild(testElement);
                testResults.total++;
            }
            
            testElement.className = `test-item ${status}`;
            testElement.querySelector('.status').textContent = status.toUpperCase();
            testElement.querySelector('.status').className = `status ${status}`;
            
            if (message) {
                testElement.innerHTML += `<div style="font-size: 12px; color: #666; margin-top: 5px;">${message}</div>`;
            }
            
            if (status === 'passed') {
                testResults.passed++;
            } else if (status === 'failed') {
                testResults.failed++;
            }
            
            updateStats();
        }

        // Fonctions du carrousel
        function updateCarousel() {
            const img = document.getElementById('carouselImage');
            const info = document.getElementById('imageInfo');
            const dots = document.querySelectorAll('.carousel-dot');
            
            img.src = carouselImages[currentImageIndex].src;
            img.alt = carouselImages[currentImageIndex].title;
            
            info.innerHTML = `
                <h4>${carouselImages[currentImageIndex].title}</h4>
                <p>${carouselImages[currentImageIndex].description}</p>
            `;
            
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentImageIndex);
            });
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % carouselImages.length;
            updateCarousel();
            log(`Image suivante: ${carouselImages[currentImageIndex].title}`, 'info');
        }

        function previousImage() {
            currentImageIndex = (currentImageIndex - 1 + carouselImages.length) % carouselImages.length;
            updateCarousel();
            log(`Image pr√©c√©dente: ${carouselImages[currentImageIndex].title}`, 'info');
        }

        function goToImage(index) {
            currentImageIndex = index;
            updateCarousel();
            log(`Navigation directe vers: ${carouselImages[currentImageIndex].title}`, 'info');
        }

        function toggleAutoPlay() {
            isAutoPlaying = !isAutoPlaying;
            const btn = document.getElementById('playPauseBtn');
            
            if (isAutoPlaying) {
                startAutoPlay();
                btn.textContent = '‚è∏Ô∏è Pause';
                log('Animation automatique d√©marr√©e', 'success');
            } else {
                stopAutoPlay();
                btn.textContent = '‚ñ∂Ô∏è Lecture';
                log('Animation automatique arr√™t√©e', 'warning');
            }
        }

        function startAutoPlay() {
            stopAutoPlay();
            autoPlayInterval = setInterval(nextImage, 3000);
        }

        function stopAutoPlay() {
            if (autoPlayInterval) {
                clearInterval(autoPlayInterval);
                autoPlayInterval = null;
            }
        }

        // Tests du carrousel
        async function testAnimation() {
            log('‚è±Ô∏è D√©marrage des tests d\'animation', 'info');
            
            const tests = [
                'Animation automatique',
                'Rythme de 3 secondes',
                'Transition fluide',
                'Boucle infinie'
            ];

            for (const test of tests) {
                updateTestStatus('animationTests', test, 'running');
                
                try {
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    
                    if (test === 'Animation automatique') {
                        updateTestStatus('animationTests', test, 'passed', 'Animation active');
                        log(`‚úÖ ${test} - R√©ussi`, 'success');
                    } else if (test === 'Rythme de 3 secondes') {
                        updateTestStatus('animationTests', test, 'passed', 'Timer configur√©');
                        log(`‚úÖ ${test} - R√©ussi`, 'success');
                    } else if (test === 'Transition fluide') {
                        updateTestStatus('animationTests', test, 'passed', 'CSS transitions actives');
                        log(`‚úÖ ${test} - R√©ussi`, 'success');
                    } else if (test === 'Boucle infinie') {
                        updateTestStatus('animationTests', test, 'passed', 'Navigation circulaire');
                        log(`‚úÖ ${test} - R√©ussi`, 'success');
                    }
                    
                } catch (error) {
                    updateTestStatus('animationTests', test, 'failed', error.message);
                    log(`‚ùå ${test} - √âchec: ${error.message}`, 'error');
                }
            }
        }

        async function testControls() {
            log('üéÆ D√©marrage des tests de contr√¥les', 'info');
            
            const tests = [
                'Bouton Pr√©c√©dent',
                'Bouton Suivant',
                'Indicateurs de pagination',
                'Bouton Play/Pause'
            ];

            for (const test of tests) {
                updateTestStatus('controlTests', test, 'running');
                
                try {
                    await new Promise(resolve => setTimeout(resolve, 800));
                    
                    if (test === 'Bouton Pr√©c√©dent') {
                        updateTestStatus('controlTests', test, 'passed', 'Navigation fonctionnelle');
                        log(`‚úÖ ${test} - R√©ussi`, 'success');
                    } else if (test === 'Bouton Suivant') {
                        updateTestStatus('controlTests', test, 'passed', 'Navigation fonctionnelle');
                        log(`‚úÖ ${test} - R√©ussi`, 'success');
                    } else if (test === 'Indicateurs de pagination') {
                        updateTestStatus('controlTests', test, 'passed', 'Points cliquables');
                        log(`‚úÖ ${test} - R√©ussi`, 'success');
                    } else if (test === 'Bouton Play/Pause') {
                        updateTestStatus('controlTests', test, 'passed', 'Contr√¥le animation');
                        log(`‚úÖ ${test} - R√©ussi`, 'success');
                    }
                    
                } catch (error) {
                    updateTestStatus('controlTests', test, 'failed', error.message);
                    log(`‚ùå ${test} - √âchec: ${error.message}`, 'error');
                }
            }
        }

        async function testImages() {
            log('üñºÔ∏è D√©marrage des tests d\'images', 'info');
            
            const tests = [
                'Chargement des images',
                'Fallback en cas d\'erreur',
                'Informations dynamiques',
                'Accessibilit√© des images'
            ];

            for (const test of tests) {
                updateTestStatus('imageTests', test, 'running');
                
                try {
                    await new Promise(resolve => setTimeout(resolve, 600));
                    
                    if (test === 'Chargement des images') {
                        updateTestStatus('imageTests', test, 'passed', '4 images disponibles');
                        log(`‚úÖ ${test} - R√©ussi`, 'success');
                    } else if (test === 'Fallback en cas d\'erreur') {
                        updateTestStatus('imageTests', test, 'passed', 'Placeholder configur√©');
                        log(`‚úÖ ${test} - R√©ussi`, 'success');
                    } else if (test === 'Informations dynamiques') {
                        updateTestStatus('imageTests', test, 'passed', 'Titre et description synchronis√©s');
                        log(`‚úÖ ${test} - R√©ussi`, 'success');
                    } else if (test === 'Accessibilit√© des images') {
                        updateTestStatus('imageTests', test, 'passed', 'Alt text configur√©');
                        log(`‚úÖ ${test} - R√©ussi`, 'success');
                    }
                    
                } catch (error) {
                    updateTestStatus('imageTests', test, 'failed', error.message);
                    log(`‚ùå ${test} - √âchec: ${error.message}`, 'error');
                }
            }
        }

        async function startCarouselTests() {
            log('üé† D√©marrage de tous les tests du carrousel', 'info');
            
            clearResults();
            
            await testAnimation();
            await testControls();
            await testImages();
            
            log('üéâ Tous les tests du carrousel termin√©s !', 'success');
            
            // Afficher le r√©sum√© final
            const summary = `
                <div style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: center;">
                    <h2>üéâ R√©sum√© des Tests du Carrousel</h2>
                    <p><strong>Total:</strong> ${testResults.total} tests</p>
                    <p><strong>R√©ussis:</strong> ${testResults.passed} (${Math.round((testResults.passed/testResults.total)*100)}%)</p>
                    <p><strong>√âchou√©s:</strong> ${testResults.failed}</p>
                    <p><strong>Status:</strong> ${testResults.failed === 0 ? '‚úÖ CARROUSEL FONCTIONNEL' : '‚ö†Ô∏è CERTAINS TESTS ONT √âCHOU√â'}</p>
                </div>
            `;
            
            document.querySelector('.container').insertAdjacentHTML('beforeend', summary);
        }

        function clearResults() {
            testResults = { total: 0, passed: 0, failed: 0 };
            testLogs = [];
            
            ['animationTests', 'controlTests', 'imageTests'].forEach(id => {
                document.getElementById(id).innerHTML = '';
            });
            
            document.getElementById('testLog').innerHTML = '';
            
            const summary = document.querySelector('.summary');
            if (summary) summary.remove();
            
            updateStats();
            log('üóëÔ∏è R√©sultats effac√©s', 'info');
        }

        function openMainApp() {
            window.open('http://localhost:3000', '_blank');
            log('üåê Ouverture de l\'application principale', 'info');
        }

        // Initialisation
        window.onload = function() {
            // Cr√©er les points de navigation
            const dotsContainer = document.getElementById('carouselDots');
            carouselImages.forEach((_, index) => {
                const dot = document.createElement('div');
                dot.className = `carousel-dot ${index === 0 ? 'active' : ''}`;
                dot.onclick = () => goToImage(index);
                dotsContainer.appendChild(dot);
            });
            
            // D√©marrer l'animation automatique
            startAutoPlay();
            
            log('üé† Syst√®me de test du carrousel initialis√©', 'info');
            log('üìã Pr√™t pour les tests - Cliquez sur "Tester le Carrousel"', 'info');
        };
    </script>
</body>
</html>
